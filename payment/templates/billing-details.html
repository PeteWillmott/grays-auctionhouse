{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block page_title %}Gray and Sons{% endblock %}
{% block page_heading %}Shipping Details{% endblock %}
{% block content %}

<form action="POST">
    {% csrf_token %}
    <div class="row">
        {% for address in addresses %}
            <div class="col-sm-6  col-md-3  border  border-dark  m-2">
                <input type="radio" name="delivery_address" value="address.id"><br>
                {{ address.delivery_name }}<br>
                {{ address.street1 }}<br>
                {{ address.street2 }}<br>
                {{ address.town }}<br>
            </div>
        {% endfor %}
    </div>

    <button type="button" class="btn  btn-outline-primary  d-block  my-3" onclick="toggleFormDisplay('delivery')">Add different address for delivery.</button>

    <div id="delivery" class="d-none">
        {{ delivery_form | crispy }}
    </div>

    <button type="button" class="btn btn-outline-primary  d-block  my-2" onclick="toggleFormDisplay('billing')">Add different address for Billing.</button>
    <button type="submit" class="btn btn-primary  my-2">On to payment</button><br>

    <div id="billing" class="d-none">
        {{ billing_form | crispy }}
        <button type="submit" class="btn btn-primary  d-block  my-2">On to payment</button>
    </div>

</form>

<a href="{% url 'payment:payment-details' %}">Next</a>

{% endblock %}

{% block script %}
    <script src="{% static 'js/index.js' %}"></script>
{% endblock %}

